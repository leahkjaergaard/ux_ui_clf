---
import Layout from "../Layout.astro";
import Card from "../components/Card.astro";
---

<Layout>

<div class="wrapper">
	

<img src="/billeder/illustration2.webp" alt="ill" class="illustration2">
<img src="/billeder/illustration.webp" alt="ill" class="illustration">
<div class="text"> COPENHAGEN LIGHT <br> FESTIVAL <br> 2 - 25 FEBRUAR</div>


<h1>AKTUELT</h1>
</div>
<!-- KARUSEL -->

    <div class="slider">
  <div class="slider-inner">
    <div class="slide">
		<a href="#">PROGRAM</a>
      <Card image="/billeder/03.pixelearth_singleview.webp" alt="Pixelearth"/>
    </div>
    <div class="slide">
		<a href="#">VORES APP</a>
      <Card image="/billeder/03.pixelearth_singleview.webp" alt="Pixelearth"/>
    </div>
    <div class="slide">
		<a href="#">KORT / RUTER </a>
      <Card image="/billeder/03.pixelearth_singleview.webp" alt="Pixelearth"/>
    </div>
	 <div class="slide">
		<a href="#">BILLETTER</a>
      <Card image="/billeder/03.pixelearth_singleview.webp" alt="Pixelearth"/>
    </div>
  </div>

  <button class="prev">Forrige</button>
  <button class="next">Næste</button>
</div>

</Layout>


<script>
document.addEventListener('DOMContentLoaded', function() {
  const slider = document.querySelector('.slider');
  const sliderInner = document.querySelector('.slider-inner');
  const slides = document.querySelectorAll('.slide');
  const prevBtn = document.querySelector('.prev');
  const nextBtn = document.querySelector('.next');

  let currentIndex = 0;
  const slideWidth = slides[0].offsetWidth;

  // skift til næste billede
  function nextSlide() {
    if (currentIndex < slides.length - 1) {
      currentIndex++;
    } else {
      currentIndex = 0; 
    }
    updateSlider();
  }

 // forrige slide
  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
    } else {
      currentIndex = slides.length - 1; 
    }
    updateSlider();
  }

  // Opdater sliderens position baseret på currentIndex
  function updateSlider() {
    const newPosition = -currentIndex * slideWidth;
    sliderInner.style.transform = `translateX(${newPosition}px)`;
  }

  // Lyt efter klik på navigationsknapperne
  if (prevBtn && nextBtn) {
    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);
  }
});
</script>


<style>

.wrapper {
	width: 100%;
	overflow: hidden;
}

.wrapper .text { 
	position: absolute;
	color: white;
	right: 3rem;
	top: 6rem;
	font-size: 5rem;
	 font-family: "Jaldi", sans-serif;
    font-weight: 400;
    font-style: normal;
	text-align: right;
	line-height: 1.2;
}

/* billede style */
		.illustration2 {
		max-width: 100vw;
		display: block;
		/* transform: scaleX(1.5) scaleY(1.2) rotate(20deg); */
		filter: brightness(40%);
		padding-top: 6rem;  /* ændre position på illustration */
	
	}

	.illustration {
		max-width: 100vw;
		display: block;
		 transform: scaleX(1.5) scaleY(1.5);
		 filter: brightness(40%);
		 position: relative;
  		top: 160px;
  		left: 77px;
	}

h1 {
text-align: left;
}

a {
  margin-bottom: 10px; 
  color: white;
  font-family: "Jaldi", sans-serif;
  font-weight: 400;
  font-style: normal;
}


/* KARRUSEL */
.slider {
  width: 100%;
  overflow: hidden;
}

.slider-inner {
  display: flex;
  transition: transform 0.3s ease;
  gap: 2rem;
}

.slide {
  max-width: 100%;
  height: auto;
}

/* Tilpas billedstørrelse på mindre skærme */
@media (max-width: 767px) {
  .slide {
    max-width: 100%;
    max-height: 300px;
  }
}
</style>
